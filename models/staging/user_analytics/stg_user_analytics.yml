version: 2

models:
  - name: stg_user_analytics_s3__393_closing_revenue_and_expense_accounts
    description: 393 Closing Revenue and Expense Accounts
    config:
      pre-hook: SET enable_case_sensitive_identifier = TRUE
    columns:
      - name: record_id
        description: Unique event record identifier
        tests:
          - unique
          - not_null
      # Timestamp
      - name: created_at
        description: Event occurence time
        tests:
          - not_null
      - name: updated_at
      # Actor
      - name: company_id
        description: Company causing this event
      - name: user_id
        description: User causing this event
      # Context
      - name: platform_id
        description: Platform which event happened
        tests:
          - not_null
      - name: application
      - name: platform
      - name: app_version
      - name: build_version
      - name: product_flavor
      - name: role_id
      - name: role_name
      - name: is_vat
      - name: is_subscribed
      - name: is_expired
      - name: company_type_id
      - name: company_type
      - name: company_type_category
      - name: company_type_tax
      - name: company_role
      - name: company_phone
      - name: company_mobile
      - name: company_fax
      - name: plan
      # Event payload
      - name: payload_type
      - name: payload_closing_period
      - name: payload_closing_period_start
      - name: payload_closing_period_end
      # ETL metadata
      - name: __etl_loaded_at
        description: Timestamp when this record is loaded
      - name: __etl_loader_type
      - name: __etl_loader_name
      - name: __etl_loader_job_id
  - name: stg_user_analytics_s3__391_period_setting_updated
    description: 391 Period Setting Updated
    config:
      pre-hook: SET enable_case_sensitive_identifier = TRUE
    columns:
      - name: record_id
        description: Unique event record identifier
        tests:
          - unique
          - not_null
      # Timestamp
      - name: created_at
        description: Event occurence time
        tests:
          - not_null
      - name: updated_at
      # Actor
      - name: company_id
        description: Company causing this event
      - name: user_id
        description: User causing this event
      # Context
      - name: platform_id
        description: Platform which event happened
        tests:
          - not_null
      - name: application
      - name: platform
      - name: app_version
      - name: build_version
      - name: product_flavor
      - name: role_id
      - name: role_name
      - name: is_vat
      - name: is_subscribed
      - name: is_expired
      - name: company_type_id
      - name: company_type
      - name: company_type_category
      - name: company_type_tax
      - name: company_role
      - name: company_phone
      - name: company_mobile
      - name: company_fax
      - name: plan
      # Event payload
      - name: payload_locking_period
      - name: payload_locking_period_start
      - name: payload_locking_period_end
      - name: payload_locking_period_option
      # ETL metadata
      - name: __etl_loaded_at
        description: Timestamp when this record is loaded
      - name: __etl_loader_type
      - name: __etl_loader_name
      - name: __etl_loader_job_id
